<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#ddd">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/kakaxi.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#ddd">





  <meta name="keywords" content="开发人生中的乐趣" />





  <link rel="alternate" href="/atom.xml" title="YHHBlog" type="application/atom+xml" />






<meta property="og:type" content="website">
<meta property="og:title" content="YHHBlog">
<meta property="og:url" content="http://youhanghang.com/index.html">
<meta property="og:site_name" content="YHHBlog">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="YHHBlog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://youhanghang.com/"/>





  <title>YHHBlog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">YHHBlog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">断剑重铸之日，其势归来之时</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-实验室">
          <a href="/lab/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            实验室
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://youhanghang.com/2018/10/29/表单验证/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="游来游去">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YHHBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/29/表单验证/" itemprop="url">js表单验证大全</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-29T17:00:13+08:00">
                2018-10-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/前端/" itemprop="url" rel="index">
                    <span itemprop="name">前端</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="js表单验证大全"><a href="#js表单验证大全" class="headerlink" title="js表单验证大全"></a><a href="https://www.baidu.com/s?wd=js表单验证大全" target="_blank" rel="noopener">js表单验证大全</a></h2><h3 id="表单验证"><a href="#表单验证" class="headerlink" title="表单验证"></a>表单验证</h3><figure class="highlight javascript"><figcaption><span>[标题] [] [url] [link text]</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment">// 用途：校验ip地址的格式 </span></span><br><span class="line"><span class="comment">// 输入：strIP：ip地址 </span></span><br><span class="line"><span class="comment">// 返回：如果通过验证返回true,否则返回false； </span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isIP</span>(<span class="params">strIP</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (isNull(strIP)) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">var</span> re = <span class="regexp">/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/g</span> <span class="comment">//匹配IP地址的正则表达式 </span></span><br><span class="line">    <span class="keyword">if</span> (re.test(strIP)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">RegExp</span>.$<span class="number">1</span> &lt; <span class="number">256</span> &amp;&amp; <span class="built_in">RegExp</span>.$<span class="number">2</span> &lt; <span class="number">256</span> &amp;&amp; <span class="built_in">RegExp</span>.$<span class="number">3</span> &lt; <span class="number">256</span> &amp;&amp; <span class="built_in">RegExp</span>.$<span class="number">4</span> &lt; <span class="number">256</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">用途：检查输入字符串是否为空或者全部都是空格 </span></span><br><span class="line"><span class="comment">输入：str </span></span><br><span class="line"><span class="comment">返回： </span></span><br><span class="line"><span class="comment">如果全是空返回true,否则返回false </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isNull</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (str == <span class="string">""</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">var</span> regu = <span class="string">"^[ ]+$"</span>;</span><br><span class="line">    <span class="keyword">var</span> re = <span class="keyword">new</span> <span class="built_in">RegExp</span>(regu);</span><br><span class="line">    <span class="keyword">return</span> re.test(str);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">用途：检查输入对象的值是否符合整数格式 </span></span><br><span class="line"><span class="comment">输入：str 输入的字符串 </span></span><br><span class="line"><span class="comment">返回：如果通过验证返回true,否则返回false </span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isInteger</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> regu = <span class="regexp">/^[-]&#123;0,1&#125;[0-9]&#123;1,&#125;$/</span>;</span><br><span class="line">    <span class="keyword">return</span> regu.test(str);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">用途：检查输入手机号码是否正确 </span></span><br><span class="line"><span class="comment">输入： </span></span><br><span class="line"><span class="comment">s：字符串 </span></span><br><span class="line"><span class="comment">返回： </span></span><br><span class="line"><span class="comment">如果通过验证返回true,否则返回false </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkMobile</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> regu = <span class="regexp">/^[1][3][0-9]&#123;9&#125;$/</span>;</span><br><span class="line">    <span class="keyword">var</span> re = <span class="keyword">new</span> <span class="built_in">RegExp</span>(regu);</span><br><span class="line">    <span class="keyword">if</span> (re.test(s)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">用途：检查输入字符串是否符合正整数格式 </span></span><br><span class="line"><span class="comment">输入： </span></span><br><span class="line"><span class="comment">s：字符串 </span></span><br><span class="line"><span class="comment">返回： </span></span><br><span class="line"><span class="comment">如果通过验证返回true,否则返回false </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isNumber</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> regu = <span class="string">"^[0-9]+$"</span>;</span><br><span class="line">    <span class="keyword">var</span> re = <span class="keyword">new</span> <span class="built_in">RegExp</span>(regu);</span><br><span class="line">    <span class="keyword">if</span> (s.search(re) != <span class="number">-1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">用途：检查输入字符串是否是带小数的数字格式,可以是负数 </span></span><br><span class="line"><span class="comment">输入： </span></span><br><span class="line"><span class="comment">s：字符串 </span></span><br><span class="line"><span class="comment">返回： </span></span><br><span class="line"><span class="comment">如果通过验证返回true,否则返回false </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isDecimal</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (isInteger(str)) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">var</span> re = <span class="regexp">/^[-]&#123;0,1&#125;(\d+)[\.]+(\d+)$/</span>;</span><br><span class="line">    <span class="keyword">if</span> (re.test(str)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">RegExp</span>.$<span class="number">1</span> == <span class="number">0</span> &amp;&amp; <span class="built_in">RegExp</span>.$<span class="number">2</span> == <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">用途：检查输入对象的值是否符合端口号格式 </span></span><br><span class="line"><span class="comment">输入：str 输入的字符串 </span></span><br><span class="line"><span class="comment">返回：如果通过验证返回true,否则返回false </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isPort</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (isNumber(str) &amp;&amp; str &lt; <span class="number">65536</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">用途：检查输入对象的值是否符合E-Mail格式 </span></span><br><span class="line"><span class="comment">输入：str 输入的字符串 </span></span><br><span class="line"><span class="comment">返回：如果通过验证返回true,否则返回false </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isEmail</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> myReg = <span class="regexp">/^[-_A-Za-z0-9]+@([_A-Za-z0-9]+\.)+[A-Za-z0-9]&#123;2,3&#125;$/</span>;</span><br><span class="line">    <span class="keyword">if</span> (myReg.test(str)) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">用途：检查输入字符串是否符合金额格式 </span></span><br><span class="line"><span class="comment">格式定义为带小数的正数，小数点后最多三位 </span></span><br><span class="line"><span class="comment">输入： </span></span><br><span class="line"><span class="comment">s：字符串 </span></span><br><span class="line"><span class="comment">返回： </span></span><br><span class="line"><span class="comment">如果通过验证返回true,否则返回false </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isMoney</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> regu = <span class="string">"^[0-9]+[\.][0-9]&#123;0,3&#125;$"</span>;</span><br><span class="line">    <span class="keyword">var</span> re = <span class="keyword">new</span> <span class="built_in">RegExp</span>(regu);</span><br><span class="line">    <span class="keyword">if</span> (re.test(s)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">用途：检查输入字符串是否只由英文字母和数字和下划线组成 </span></span><br><span class="line"><span class="comment">输入： </span></span><br><span class="line"><span class="comment">s：字符串 </span></span><br><span class="line"><span class="comment">返回： </span></span><br><span class="line"><span class="comment">如果通过验证返回true,否则返回false </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isNumberOr_Letter</span>(<span class="params">s</span>) </span>&#123; <span class="comment">//判断是否是数字或字母 </span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> regu = <span class="string">"^[0-9a-zA-Z\_]+$"</span>;</span><br><span class="line">    <span class="keyword">var</span> re = <span class="keyword">new</span> <span class="built_in">RegExp</span>(regu);</span><br><span class="line">    <span class="keyword">if</span> (re.test(s)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">用途：检查输入字符串是否只由英文字母和数字组成 </span></span><br><span class="line"><span class="comment">输入： </span></span><br><span class="line"><span class="comment">s：字符串 </span></span><br><span class="line"><span class="comment">返回： </span></span><br><span class="line"><span class="comment">如果通过验证返回true,否则返回false </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isNumberOrLetter</span>(<span class="params">s</span>) </span>&#123; <span class="comment">//判断是否是数字或字母 </span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> regu = <span class="string">"^[0-9a-zA-Z]+$"</span>;</span><br><span class="line">    <span class="keyword">var</span> re = <span class="keyword">new</span> <span class="built_in">RegExp</span>(regu);</span><br><span class="line">    <span class="keyword">if</span> (re.test(s)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">用途：检查输入字符串是否只由汉字、字母、数字组成 </span></span><br><span class="line"><span class="comment">输入： </span></span><br><span class="line"><span class="comment">value：字符串 </span></span><br><span class="line"><span class="comment">返回： </span></span><br><span class="line"><span class="comment">如果通过验证返回true,否则返回false </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isChinaOrNumbOrLett</span>(<span class="params">s</span>) </span>&#123; <span class="comment">//判断是否是汉字、字母、数字组成 </span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> regu = <span class="string">"^[0-9a-zA-Z\u4e00-\u9fa5]+$"</span>;</span><br><span class="line">    <span class="keyword">var</span> re = <span class="keyword">new</span> <span class="built_in">RegExp</span>(regu);</span><br><span class="line">    <span class="keyword">if</span> (re.test(s)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">用途：判断是否是日期 </span></span><br><span class="line"><span class="comment">输入：date：日期；fmt：日期格式 </span></span><br><span class="line"><span class="comment">返回：如果通过验证返回true,否则返回false </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isDate</span>(<span class="params">date, fmt</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (fmt == <span class="literal">null</span>) fmt = <span class="string">"yyyyMMdd"</span>;</span><br><span class="line">    <span class="keyword">var</span> yIndex = fmt.indexOf(<span class="string">"yyyy"</span>);</span><br><span class="line">    <span class="keyword">if</span> (yIndex == <span class="number">-1</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">var</span> year = date.substring(yIndex, yIndex + <span class="number">4</span>);</span><br><span class="line">    <span class="keyword">var</span> mIndex = fmt.indexOf(<span class="string">"MM"</span>);</span><br><span class="line">    <span class="keyword">if</span> (mIndex == <span class="number">-1</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">var</span> month = date.substring(mIndex, mIndex + <span class="number">2</span>);</span><br><span class="line">    <span class="keyword">var</span> dIndex = fmt.indexOf(<span class="string">"dd"</span>);</span><br><span class="line">    <span class="keyword">if</span> (dIndex == <span class="number">-1</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">var</span> day = date.substring(dIndex, dIndex + <span class="number">2</span>);</span><br><span class="line">    <span class="keyword">if</span> (!isNumber(year) || year &gt; <span class="string">"2100"</span> || year &lt; <span class="string">"1900"</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span> (!isNumber(month) || month &gt; <span class="string">"12"</span> || month &lt; <span class="string">"01"</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span> (day &gt; getMaxDay(year, month) || day &lt; <span class="string">"01"</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getMaxDay</span>(<span class="params">year, month</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (month == <span class="number">4</span> || month == <span class="number">6</span> || month == <span class="number">9</span> || month == <span class="number">11</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"30"</span>;</span><br><span class="line">    <span class="keyword">if</span> (month == <span class="number">2</span>)</span><br><span class="line">        <span class="keyword">if</span> (year % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; year % <span class="number">100</span> != <span class="number">0</span> || year % <span class="number">400</span> == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"29"</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> <span class="string">"28"</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"31"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">用途：字符1是否以字符串2结束 </span></span><br><span class="line"><span class="comment">输入：str1：字符串；str2：被包含的字符串 </span></span><br><span class="line"><span class="comment">返回：如果通过验证返回true,否则返回false </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isLastMatch</span>(<span class="params">str1, str2</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> index = str1.lastIndexOf(str2);</span><br><span class="line">    <span class="keyword">if</span> (str1.length == index + str2.length) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">用途：字符1是否以字符串2开始 </span></span><br><span class="line"><span class="comment">输入：str1：字符串；str2：被包含的字符串 </span></span><br><span class="line"><span class="comment">返回：如果通过验证返回true,否则返回false </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isFirstMatch</span>(<span class="params">str1, str2</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> index = str1.indexOf(str2);</span><br><span class="line">    <span class="keyword">if</span> (index == <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">用途：字符1是包含字符串2 </span></span><br><span class="line"><span class="comment">输入：str1：字符串；str2：被包含的字符串 </span></span><br><span class="line"><span class="comment">返回：如果通过验证返回true,否则返回false </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isMatch</span>(<span class="params">str1, str2</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> index = str1.indexOf(str2);</span><br><span class="line">    <span class="keyword">if</span> (index == <span class="number">-1</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">用途：检查输入的起止日期是否正确，规则为两个日期的格式正确， </span></span><br><span class="line"><span class="comment">且结束如期&gt;=起始日期 </span></span><br><span class="line"><span class="comment">输入： </span></span><br><span class="line"><span class="comment">startDate：起始日期，字符串 </span></span><br><span class="line"><span class="comment">endDate：结束如期，字符串 </span></span><br><span class="line"><span class="comment">返回： </span></span><br><span class="line"><span class="comment">如果通过验证返回true,否则返回false </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkTwoDate</span>(<span class="params">startDate, endDate</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!isDate(startDate)) &#123;</span><br><span class="line">        alert(<span class="string">"起始日期不正确!"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!isDate(endDate)) &#123;</span><br><span class="line">        alert(<span class="string">"终止日期不正确!"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (startDate &gt; endDate) &#123;</span><br><span class="line">        alert(<span class="string">"起始日期不能大于终止日期!"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">用途：检查输入的Email信箱格式是否正确 </span></span><br><span class="line"><span class="comment">输入： </span></span><br><span class="line"><span class="comment">strEmail：字符串 </span></span><br><span class="line"><span class="comment">返回： </span></span><br><span class="line"><span class="comment">如果通过验证返回true,否则返回false </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkEmail</span>(<span class="params">strEmail</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//var emailReg = /^[_a-z0-9]+@([_a-z0-9]+\.)+[a-z0-9]&#123;2,3&#125;$/; </span></span><br><span class="line">    <span class="keyword">var</span> emailReg = <span class="regexp">/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/</span>;</span><br><span class="line">    <span class="keyword">if</span> (emailReg.test(strEmail)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        alert(<span class="string">"您输入的Email地址格式不正确！"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">用途：检查输入的电话号码格式是否正确 </span></span><br><span class="line"><span class="comment">输入： </span></span><br><span class="line"><span class="comment">strPhone：字符串 </span></span><br><span class="line"><span class="comment">返回： </span></span><br><span class="line"><span class="comment">如果通过验证返回true,否则返回false </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkPhone</span>(<span class="params">strPhone</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> phoneRegWithArea = <span class="regexp">/^[0][1-9]&#123;2,3&#125;-[0-9]&#123;5,10&#125;$/</span>;</span><br><span class="line">    <span class="keyword">var</span> phoneRegNoArea = <span class="regexp">/^[1-9]&#123;1&#125;[0-9]&#123;5,8&#125;$/</span>;</span><br><span class="line">    <span class="keyword">var</span> prompt = <span class="string">"您输入的电话号码不正确!"</span></span><br><span class="line">    <span class="keyword">if</span> (strPhone.length &gt; <span class="number">9</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (phoneRegWithArea.test(strPhone)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            alert(prompt);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (phoneRegNoArea.test(strPhone)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            alert(prompt);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">用途：检查复选框被选中的数目 </span></span><br><span class="line"><span class="comment">输入： </span></span><br><span class="line"><span class="comment">checkboxID：字符串 </span></span><br><span class="line"><span class="comment">返回： </span></span><br><span class="line"><span class="comment">返回该复选框中被选中的数目 </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkSelect</span>(<span class="params">checkboxID</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> check = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">document</span>.all(checkboxID).length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="built_in">document</span>.all(checkboxID).length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">document</span>.all(checkboxID).item(i).checked) &#123;</span><br><span class="line">                check += <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">document</span>.all(checkboxID).checked)</span><br><span class="line">            check = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> check;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getTotalBytes</span>(<span class="params">varField</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (varField == <span class="literal">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> totalCount = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; varField.value.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (varField.value.charCodeAt(i) &gt; <span class="number">127</span>)</span><br><span class="line">            totalCount += <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            totalCount++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> totalCount;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getFirstSelectedValue</span>(<span class="params">checkboxID</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> value = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">document</span>.all(checkboxID).length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="built_in">document</span>.all(checkboxID).length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">document</span>.all(checkboxID).item(i).checked) &#123;</span><br><span class="line">                value = <span class="built_in">document</span>.all(checkboxID).item(i).value;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">document</span>.all(checkboxID).checked)</span><br><span class="line">            value = <span class="built_in">document</span>.all(checkboxID).value;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getFirstSelectedIndex</span>(<span class="params">checkboxID</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> value = <span class="number">-2</span>;</span><br><span class="line">    <span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">document</span>.all(checkboxID).length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="built_in">document</span>.all(checkboxID).length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">document</span>.all(checkboxID).item(i).checked) &#123;</span><br><span class="line">                value = i;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">document</span>.all(checkboxID).checked)</span><br><span class="line">            value = <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">selectAll</span>(<span class="params">checkboxID, status</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">document</span>.all(checkboxID) == <span class="literal">null</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">document</span>.all(checkboxID).length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="built_in">document</span>.all(checkboxID).length; i++) &#123;</span><br><span class="line"></span><br><span class="line">            <span class="built_in">document</span>.all(checkboxID).item(i).checked = status;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">document</span>.all(checkboxID).checked = status;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">selectInverse</span>(<span class="params">checkboxID</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">document</span>.all(checkboxID) == <span class="literal">null</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">document</span>.all(checkboxID).length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="built_in">document</span>.all(checkboxID).length; i++) &#123;</span><br><span class="line">            <span class="built_in">document</span>.all(checkboxID).item(i).checked = !<span class="built_in">document</span>.all(checkboxID).item(i).checked;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">document</span>.all(checkboxID).checked = !<span class="built_in">document</span>.all(checkboxID).checked;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkDate</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (value == <span class="string">''</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">if</span> (value.length != <span class="number">8</span> || !isNumber(value)) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">var</span> year = value.substring(<span class="number">0</span>, <span class="number">4</span>);</span><br><span class="line">    <span class="keyword">if</span> (year &gt; <span class="string">"2100"</span> || year &lt; <span class="string">"1900"</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> month = value.substring(<span class="number">4</span>, <span class="number">6</span>);</span><br><span class="line">    <span class="keyword">if</span> (month &gt; <span class="string">"12"</span> || month &lt; <span class="string">"01"</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> day = value.substring(<span class="number">6</span>, <span class="number">8</span>);</span><br><span class="line">    <span class="keyword">if</span> (day &gt; getMaxDay(year, month) || day &lt; <span class="string">"01"</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">用途：检查输入的起止日期是否正确，规则为两个日期的格式正确或都为空 </span></span><br><span class="line"><span class="comment">且结束日期&gt;=起始日期 </span></span><br><span class="line"><span class="comment">输入： </span></span><br><span class="line"><span class="comment">startDate：起始日期，字符串 </span></span><br><span class="line"><span class="comment">endDate：  结束日期，字符串 </span></span><br><span class="line"><span class="comment">返回： </span></span><br><span class="line"><span class="comment">如果通过验证返回true,否则返回false </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkPeriod</span>(<span class="params">startDate, endDate</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!checkDate(startDate)) &#123;</span><br><span class="line">        alert(<span class="string">"起始日期不正确!"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!checkDate(endDate)) &#123;</span><br><span class="line">        alert(<span class="string">"终止日期不正确!"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (startDate &gt; endDate) &#123;</span><br><span class="line">        alert(<span class="string">"起始日期不能大于终止日期!"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">用途：检查证券代码是否正确 </span></span><br><span class="line"><span class="comment">输入： </span></span><br><span class="line"><span class="comment">secCode:证券代码 </span></span><br><span class="line"><span class="comment">返回： </span></span><br><span class="line"><span class="comment">如果通过验证返回true,否则返回false </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkSecCode</span>(<span class="params">secCode</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (secCode.length != <span class="number">6</span>) &#123;</span><br><span class="line">        alert(<span class="string">"证券代码长度应该为6位"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!isNumber(secCode)) &#123;</span><br><span class="line">        alert(<span class="string">"证券代码只能包含数字"</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**************************************************** </span></span><br><span class="line"><span class="comment">function:cTrim(sInputString,iType) </span></span><br><span class="line"><span class="comment">description:字符串去空格的函数 </span></span><br><span class="line"><span class="comment">parameters:iType：1=去掉字符串左边的空格 </span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">2=去掉字符串左边的空格 </span></span><br><span class="line"><span class="comment">0=去掉字符串左边和右边的空格 </span></span><br><span class="line"><span class="comment">return value:去掉空格的字符串 </span></span><br><span class="line"><span class="comment">****************************************************/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cTrim</span>(<span class="params">sInputString, iType</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> sTmpStr = <span class="string">' '</span>;</span><br><span class="line">    <span class="keyword">var</span> i = <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (iType == <span class="number">0</span> || iType == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">while</span> (sTmpStr == <span class="string">' '</span>) &#123;</span><br><span class="line">            ++i;</span><br><span class="line">            sTmpStr = sInputString.substr(i, <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        sInputString = sInputString.substring(i);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (iType == <span class="number">0</span> || iType == <span class="number">2</span>) &#123;</span><br><span class="line">        sTmpStr = <span class="string">' '</span>;</span><br><span class="line">        i = sInputString.length;</span><br><span class="line">        <span class="keyword">while</span> (sTmpStr == <span class="string">' '</span>) &#123;</span><br><span class="line">            --i;</span><br><span class="line">            sTmpStr = sInputString.substr(i, <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        sInputString = sInputString.substring(<span class="number">0</span>, i + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sInputString;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">		<span class="comment">//身份证验证</span></span><br><span class="line">		<span class="keyword">var</span> Wi = [<span class="number">7</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">1</span>];    <span class="comment">// 加权因子   </span></span><br><span class="line">		<span class="keyword">var</span> ValideCode = [<span class="number">1</span>, <span class="number">0</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>];            <span class="comment">// 身份证验证位值.10代表X   </span></span><br><span class="line">		<span class="function"><span class="keyword">function</span> <span class="title">IdCardValidate</span>(<span class="params">idCard</span>) </span>&#123;</span><br><span class="line">			idCard = trim(idCard.replace(<span class="regexp">/ /g</span>, <span class="string">""</span>));               <span class="comment">//去掉字符串头尾空格                     </span></span><br><span class="line">			<span class="keyword">if</span> (idCard.length == <span class="number">15</span>) &#123;</span><br><span class="line">				<span class="keyword">return</span> isValidityBrithBy15IdCard(idCard);       <span class="comment">//进行15位身份证的验证    </span></span><br><span class="line">			&#125; <span class="keyword">else</span> <span class="keyword">if</span> (idCard.length == <span class="number">18</span>) &#123;</span><br><span class="line">				<span class="keyword">var</span> a_idCard = idCard.split(<span class="string">""</span>);                <span class="comment">// 得到身份证数组   </span></span><br><span class="line">				<span class="keyword">if</span> (isValidityBrithBy18IdCard(idCard) &amp;&amp; isTrueValidateCodeBy18IdCard(a_idCard)) &#123;   <span class="comment">//进行18位身份证的基本验证和第18位的验证</span></span><br><span class="line">					<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">				&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">					<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">/**  </span></span><br><span class="line"><span class="comment">		 * 判断身份证号码为18位时最后的验证位是否正确  </span></span><br><span class="line"><span class="comment">		 * @param a_idCard 身份证号码数组  </span></span><br><span class="line"><span class="comment">		 * @return  </span></span><br><span class="line"><span class="comment">		 */</span></span><br><span class="line">		<span class="function"><span class="keyword">function</span> <span class="title">isTrueValidateCodeBy18IdCard</span>(<span class="params">a_idCard</span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> sum = <span class="number">0</span>;                             <span class="comment">// 声明加权求和变量   </span></span><br><span class="line">			<span class="keyword">if</span> (a_idCard[<span class="number">17</span>].toLowerCase() == <span class="string">'x'</span>) &#123;</span><br><span class="line">				a_idCard[<span class="number">17</span>] = <span class="number">10</span>;                    <span class="comment">// 将最后位为x的验证码替换为10方便后续操作   </span></span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">17</span>; i++) &#123;</span><br><span class="line">				sum += Wi[i] * a_idCard[i];            <span class="comment">// 加权求和   </span></span><br><span class="line">			&#125;</span><br><span class="line">			valCodePosition = sum % <span class="number">11</span>;                <span class="comment">// 得到验证码所位置   </span></span><br><span class="line">			<span class="keyword">if</span> (a_idCard[<span class="number">17</span>] == ValideCode[valCodePosition]) &#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">/**  </span></span><br><span class="line"><span class="comment">		  * 验证18位数身份证号码中的生日是否是有效生日  </span></span><br><span class="line"><span class="comment">		  * @param idCard 18位书身份证字符串  </span></span><br><span class="line"><span class="comment">		  * @return  </span></span><br><span class="line"><span class="comment">		  */</span></span><br><span class="line">		<span class="function"><span class="keyword">function</span> <span class="title">isValidityBrithBy18IdCard</span>(<span class="params">idCard18</span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> year = idCard18.substring(<span class="number">6</span>, <span class="number">10</span>);</span><br><span class="line">			<span class="keyword">var</span> month = idCard18.substring(<span class="number">10</span>, <span class="number">12</span>);</span><br><span class="line">			<span class="keyword">var</span> day = idCard18.substring(<span class="number">12</span>, <span class="number">14</span>);</span><br><span class="line">			<span class="keyword">var</span> temp_date = <span class="keyword">new</span> <span class="built_in">Date</span>(year, <span class="built_in">parseFloat</span>(month) - <span class="number">1</span>, <span class="built_in">parseFloat</span>(day));</span><br><span class="line">			<span class="comment">// 这里用getFullYear()获取年份，避免千年虫问题   </span></span><br><span class="line">			<span class="keyword">if</span> (temp_date.getFullYear() != <span class="built_in">parseFloat</span>(year)</span><br><span class="line">				|| temp_date.getMonth() != <span class="built_in">parseFloat</span>(month) - <span class="number">1</span></span><br><span class="line">				|| temp_date.getDate() != <span class="built_in">parseFloat</span>(day)) &#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">/**  </span></span><br><span class="line"><span class="comment">		 * 验证15位数身份证号码中的生日是否是有效生日  </span></span><br><span class="line"><span class="comment">		 * @param idCard15 15位书身份证字符串  </span></span><br><span class="line"><span class="comment">		 * @return  </span></span><br><span class="line"><span class="comment">		 */</span></span><br><span class="line">		<span class="function"><span class="keyword">function</span> <span class="title">isValidityBrithBy15IdCard</span>(<span class="params">idCard15</span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> year = idCard15.substring(<span class="number">6</span>, <span class="number">8</span>);</span><br><span class="line">			<span class="keyword">var</span> month = idCard15.substring(<span class="number">8</span>, <span class="number">10</span>);</span><br><span class="line">			<span class="keyword">var</span> day = idCard15.substring(<span class="number">10</span>, <span class="number">12</span>);</span><br><span class="line">			<span class="keyword">var</span> temp_date = <span class="keyword">new</span> <span class="built_in">Date</span>(year, <span class="built_in">parseFloat</span>(month) - <span class="number">1</span>, <span class="built_in">parseFloat</span>(day));</span><br><span class="line">			<span class="comment">// 对于老身份证中的你年龄则不需考虑千年虫问题而使用getYear()方法   </span></span><br><span class="line">			<span class="keyword">if</span> (temp_date.getYear() != <span class="built_in">parseFloat</span>(year)</span><br><span class="line">				|| temp_date.getMonth() != <span class="built_in">parseFloat</span>(month) - <span class="number">1</span></span><br><span class="line">				|| temp_date.getDate() != <span class="built_in">parseFloat</span>(day)) &#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://youhanghang.com/2018/10/29/移动端简单页面/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="游来游去">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YHHBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/29/移动端简单页面/" itemprop="url">移动端使用rem单位做的页面列表</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-29T17:00:13+08:00">
                2018-10-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/前端/" itemprop="url" rel="index">
                    <span itemprop="name">前端</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="移动端使用rem单位做的页面列表"><a href="#移动端使用rem单位做的页面列表" class="headerlink" title="移动端使用rem单位做的页面列表."></a><a href="https://github-youhanghang.github.io/StaticPage/H5%E9%A1%B5%E9%9D%A2/pageList.html" target="_blank" rel="noopener">移动端使用rem单位做的页面列表</a>.</h3>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://youhanghang.com/2018/10/29/替代jquery的原生js实现写法/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="游来游去">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YHHBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/29/替代jquery的原生js实现写法/" itemprop="url">使用原生js实现jquery功能的一部分</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-29T17:00:13+08:00">
                2018-10-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/前端/" itemprop="url" rel="index">
                    <span itemprop="name">前端</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p> 使用原生js实现jquery功能的一部分，实现方式：YouMightNotNeedJquery</p>
<h3 id="YouMightNotNeedJquery的意义"><a href="#YouMightNotNeedJquery的意义" class="headerlink" title="YouMightNotNeedJquery的意义"></a>YouMightNotNeedJquery的意义</h3><p>jQuery 包含大量的兼容性代码和扩展功能，其中有很多在你的整个项目中可能都不会用到。其实如果你只是针对现代浏览器，很多功能使用原生的 JavaScript 就可以实现，即使是拖后腿的低版本 IE 浏览器，兼容性也是很容易处理的。</p>
<h3 id="YouMightNotNeedJquery官方网址"><a href="#YouMightNotNeedJquery官方网址" class="headerlink" title="YouMightNotNeedJquery官方网址"></a><a href="http://youmightnotneedjquery.com/" target="_blank" rel="noopener">YouMightNotNeedJquery官方网址</a></h3><h3 id="YouMightNotNeedJquery的github网址"><a href="#YouMightNotNeedJquery的github网址" class="headerlink" title="YouMightNotNeedJquery的github网址"></a><a href="https://github.com/HubSpot/YouMightNotNeedjQuery" target="_blank" rel="noopener">YouMightNotNeedJquery的github网址</a></h3><h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><iframe src="http://youmightnotneedjquery.com/" width="100%" height="1000px" frameborder="0" allowfullscreen></iframe>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://youhanghang.com/2018/10/29/开发经验/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="游来游去">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YHHBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/29/开发经验/" itemprop="url">前端开发经验</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-29T17:00:13+08:00">
                2018-10-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/前端/" itemprop="url" rel="index">
                    <span itemprop="name">前端</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="前端开发规范–NEC-更好的CSS样式解决方案"><a href="#前端开发规范–NEC-更好的CSS样式解决方案" class="headerlink" title="前端开发规范–NEC : 更好的CSS样式解决方案"></a><a href="http://nec.netease.com/standard/html-email.html" target="_blank" rel="noopener">前端开发规范–NEC : 更好的CSS样式解决方案</a></h3><h3 id="自己总结"><a href="#自己总结" class="headerlink" title="自己总结"></a>自己总结</h3><blockquote>
<ul>
<li>jquery通过类名获取对象时，一定要给这个元素新增 类名 ，规范可以是 j-className。然后通过 $(‘.j-className’)来获得jquery对象,理由：如果多个页面共用同一套css,html,但是js 代码处实现不同，所以应该是用 新的j-className 来当句柄，这样就能全局共用  同一套html，css。</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>写css先把要做的所有页面过一遍，在css文件中先把公共的css模块注释完</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>对库里取的值要注意NULL和’’空字符串的判断，null没有 null.indexOf，程序报错</li>
<li>用变量定义属性名,存储数据或对象到元素的data属性里，并获取<br><figure class="highlight javascript"><figcaption><span>[标题] [] [url] [link text]</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a=<span class="string">"name"</span>;</span><br><span class="line">$(<span class="string">'body'</span>).data(a,&#123;<span class="attr">c</span>:<span class="string">'1'</span>,<span class="attr">d</span>:<span class="string">'2'</span>&#125;);</span><br><span class="line">$(<span class="string">'body'</span>).data(<span class="string">'name'</span>)</span><br><span class="line"><span class="comment">//&#123;c: "1", d: "2"&#125;</span></span><br><span class="line"><span class="keyword">var</span> a=<span class="string">"name"</span>;</span><br><span class="line"><span class="keyword">var</span> obj=&#123;&#125;;</span><br><span class="line">obj[a]=<span class="string">'xiaoming'</span>;</span><br><span class="line">obj</span><br><span class="line"><span class="comment">//&#123;name: "xiaoming"&#125;</span></span><br></pre></td></tr></table></figure>&gt; </li>
<li>表单填写历史信息自动完成 属性autocomplete=”on”可以设置在表单上，可以在局部表单上重新设置autocomplete=”off”<figure class="highlight html"><figcaption><span>[标题] [] [url] [link text]</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"demo-form.php"</span> <span class="attr">autocomplete</span>=<span class="string">"on"</span>&gt;</span></span><br><span class="line">  First name:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"fname"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  Last name: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"lname"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  E-mail: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"email"</span> <span class="attr">name</span>=<span class="string">"email"</span> <span class="attr">autocomplete</span>=<span class="string">"off"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>//自定义展示表格数据，双击行获取当前行数据方式展示数据时将数据 存放tr的data-row={a:1,b:2} 取数据:$(‘tr’).data(‘row’)   </li>
<li>向服务发请求返回数据  ，可能data==undefined,或者data.respondeCode==’’，应该做成一个公共函数去判断返回数据,做不同的处理，避免代码报错（例如返回undefined，后面代码还使用了data.out，结果导致后面js代码不能执行） </li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>在不支持图像预览的网页上，实现预览图片的功能<br>在开发者工具上 Elements下编辑html，将viewer.min.css插入进去<br>在控制台上运行jquery框架和viewer-jquery.min.js<br>调用插件预览图片的代码 $(‘body’).viewer();</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>上传功能样式自定义<figure class="highlight html"><figcaption><span>[标题] [] [url] [link text]</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span>&gt;</span>添加<span class="tag">&lt;/<span class="name">button</span>&gt;</span>		</span><br><span class="line">	<span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"fileName"</span>  <span class="attr">type</span>=<span class="string">"text"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"upload"</span>  <span class="attr">type</span>=<span class="string">"file"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">	$(<span class="string">'#btn'</span>).on(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">		$(<span class="string">'#upload'</span>)[<span class="number">0</span>].click();</span></span><br><span class="line"><span class="undefined">	&#125;)		</span></span><br><span class="line"><span class="javascript">	$(<span class="string">'#upload'</span>).on(<span class="string">'change'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">		$(<span class="string">'#fileName'</span>).val($(<span class="keyword">this</span>).val());</span></span><br><span class="line"><span class="undefined">	&#125;)</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://youhanghang.com/2018/10/29/常用css/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="游来游去">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YHHBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/29/常用css/" itemprop="url">常用css</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-29T17:00:13+08:00">
                2018-10-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/前端/" itemprop="url" rel="index">
                    <span itemprop="name">前端</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="http://www.daqianduan.com/6179.html" target="_blank" rel="noopener">CSS实现单行、多行文本溢出显示省略号（…）</a><br><a href="https://segmentfault.com/a/1190000003936841" target="_blank" rel="noopener">20 个 CSS 高级技巧汇总</a></p>
<h3 id="清除浮动代码"><a href="#清除浮动代码" class="headerlink" title="清除浮动代码"></a>清除浮动代码</h3><figure class="highlight css"><figcaption><span>[]</span></figcaption><table><tr><td class="code"><pre><span class="line">//清除浮动代码</span><br><span class="line"><span class="selector-class">.clearfloat</span><span class="selector-pseudo">:after</span> &#123;<span class="attribute">display</span>: block;<span class="attribute">clear</span>: both;<span class="attribute">content</span>: <span class="string">""</span>;<span class="attribute">visibility</span>: hidden;<span class="attribute">height</span>: <span class="number">0</span>;&#125;</span><br><span class="line"><span class="selector-class">.clearfloat</span>&#123;<span class="attribute">zoom</span>:<span class="number">1</span>;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="溢出显示省略号"><a href="#溢出显示省略号" class="headerlink" title="溢出显示省略号"></a>溢出显示省略号</h3><figure class="highlight css"><figcaption><span>单行文本的溢出显示省略号</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">p</span>&#123;<span class="attribute">width</span>: <span class="number">100px</span>;<span class="attribute">overflow</span>: hidden;<span class="attribute">text-overflow</span>:ellipsis;<span class="attribute">white-space</span>: nowrap;&#125;</span><br><span class="line">//多行文本的溢出显示省略号</span><br><span class="line"><span class="selector-tag">p</span>&#123;  <span class="attribute">display</span>: -webkit-box;<span class="attribute">-webkit-box-orient</span>: vertical;<span class="attribute">-webkit-line-clamp</span>: <span class="number">3</span>;<span class="attribute">overflow</span>: hidden;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="手机浏览器去除点击出现的背景色"><a href="#手机浏览器去除点击出现的背景色" class="headerlink" title="手机浏览器去除点击出现的背景色"></a>手机浏览器去除点击出现的背景色</h3><figure class="highlight css"><figcaption><span>[]</span></figcaption><table><tr><td class="code"><pre><span class="line">*&#123;<span class="attribute">-webkit-tap-highlight-color</span>: transparent;&#125;  </span><br></pre></td></tr></table></figure>
<h3 id="使用-not-在菜单上应用-取消应用边框"><a href="#使用-not-在菜单上应用-取消应用边框" class="headerlink" title="使用 :not() 在菜单上应用/取消应用边框"></a>使用 :not() 在菜单上应用/取消应用边框</h3><figure class="highlight css"><figcaption><span>[]</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment">/* add border  先给每一个菜单项添加边框*/</span></span><br><span class="line"><span class="selector-class">.nav</span> <span class="selector-tag">li</span> &#123;</span><br><span class="line">  <span class="attribute">border-right</span>: <span class="number">1px</span> solid <span class="number">#666</span>;</span><br><span class="line">&#125;</span><br><span class="line">//……然后再除去最后一个元素……</span><br><span class="line"></span><br><span class="line">// remove border </span><br><span class="line"></span><br><span class="line"><span class="selector-class">.nav</span> <span class="selector-tag">li</span><span class="selector-pseudo">:last-child</span> &#123;</span><br><span class="line">  <span class="attribute">border-right</span>: none;</span><br><span class="line">&#125;</span><br><span class="line">//……可以直接使用 :not() 伪类来应用元素：</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.nav</span> <span class="selector-tag">li</span><span class="selector-pseudo">:not(</span><span class="selector-pseudo">:last-child)</span> &#123;</span><br><span class="line">  <span class="attribute">border-right</span>: <span class="number">1px</span> solid <span class="number">#666</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="使用伪类设置列表元素的项目符号的颜色"><a href="#使用伪类设置列表元素的项目符号的颜色" class="headerlink" title="使用伪类设置列表元素的项目符号的颜色"></a>使用伪类设置列表元素的项目符号的颜色</h3><figure class="highlight css"><figcaption><span>[]</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.star-detail-text</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">"●"</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">rgb</span>(148, 97, 148);</span><br><span class="line">   <span class="attribute">position</span>: absolute;</span><br><span class="line">   <span class="attribute">left</span>: -<span class="number">20px</span>;</span><br><span class="line">   <span class="attribute">top</span>: <span class="number">0px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="CSS-实现隐藏滚动条同时又可以滚动"><a href="#CSS-实现隐藏滚动条同时又可以滚动" class="headerlink" title="CSS 实现隐藏滚动条同时又可以滚动"></a>CSS 实现隐藏滚动条同时又可以滚动</h3><figure class="highlight css"><figcaption><span>[]</span></figcaption><table><tr><td class="code"><pre><span class="line">&lt;div class="outer-container"&gt;</span><br><span class="line">     &lt;div class="inner-container"&gt;</span><br><span class="line">        &lt;div class="content"&gt;</span><br><span class="line">            ......</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">     &lt;/div&gt;</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line"><span class="selector-class">.outer-container</span>,<span class="selector-class">.content</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>; <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.outer-container</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.inner-container</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute; <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">overflow-x</span>: hidden;</span><br><span class="line">    <span class="attribute">overflow-y</span>: scroll;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/* for Chrome */</span></span><br><span class="line"><span class="selector-class">.inner-container</span><span class="selector-pseudo">::-webkit-scrollbar</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="子元素在父元素居中"><a href="#子元素在父元素居中" class="headerlink" title="子元素在父元素居中"></a>子元素在父元素居中</h3><figure class="highlight html"><figcaption><span>[]</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"parentElement"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"childElement"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   </span><br></pre></td></tr></table></figure>
<figure class="highlight css"><figcaption><span>[]</span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="selector-class">.parentElement</span>&#123;</span><br><span class="line">        <span class="attribute">position</span>:relative;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">500px</span>;<span class="attribute">height</span>: <span class="number">500px</span>;</span><br><span class="line">        <span class="attribute">background-color</span>: red;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"> <span class="selector-class">.childElement</span>&#123;</span><br><span class="line">        <span class="attribute">position</span>: absolute;</span><br><span class="line">        <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">        <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">translate</span>(-50%,0);</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">100px</span>;<span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">        <span class="attribute">background-color</span>: cadetblue;</span><br><span class="line"></span><br><span class="line"> &#125;        </span><br></pre></td></tr></table></figure>
<h3 id="中间标题-两边是横线的写法"><a href="#中间标题-两边是横线的写法" class="headerlink" title="中间标题 两边是横线的写法"></a>中间标题 两边是横线的写法</h3><figure class="highlight html"><figcaption><span>[]</span></figcaption><table><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.checkout-title</span>&#123;</span></span><br><span class="line"><span class="undefined">        height: 50px;</span></span><br><span class="line"><span class="undefined">        line-height: 50px;</span></span><br><span class="line"><span class="undefined">        position: relative;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">text-align</span><span class="selector-pseudo">:center</span>;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.checkout-title</span><span class="selector-pseudo">:before</span> &#123;</span></span><br><span class="line"><span class="undefined">    position: absolute;</span></span><br><span class="line"><span class="undefined">    top: 50%;</span></span><br><span class="line"><span class="undefined">    left: 0;</span></span><br><span class="line"><span class="undefined">    content: "";</span></span><br><span class="line"><span class="undefined">    width: 100%;</span></span><br><span class="line"><span class="undefined">    height: 1px;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background</span>: <span class="selector-id">#ccc</span>;</span></span><br><span class="line"><span class="undefined">    z-index: 0;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">    </span></span><br><span class="line"><span class="css">    <span class="selector-class">.checkout-title</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line"><span class="undefined">    position: relative;</span></span><br><span class="line"><span class="undefined">    padding: 0 1em;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line"><span class="undefined">    font-family: "moderat", sans-serif;</span></span><br><span class="line"><span class="undefined">    font-weight: bold;</span></span><br><span class="line"><span class="undefined">    font-size: 20px;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#605F5F</span>;</span></span><br><span class="line"><span class="undefined">    z-index: 1;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span> </span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"checkout-title"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>购购物车购物车购物车购物车购物车购物车购物车购物车购物车物车<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><figcaption><span>[]</span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="表头固定，表格内容固定高度可滚动滚动做法"><a href="#表头固定，表格内容固定高度可滚动滚动做法" class="headerlink" title="表头固定，表格内容固定高度可滚动滚动做法"></a>表头固定，表格内容固定高度可滚动滚动做法</h3><figure class="highlight html"><figcaption><span>[]</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">class</span>=<span class="string">"table   table-hover bordered"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span> <span class="attr">width</span>=<span class="string">"140"</span>&gt;</span>客户姓名<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span> <span class="attr">width</span>=<span class="string">"140"</span>&gt;</span>证件类型<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span> <span class="attr">width</span>=<span class="string">"240"</span>&gt;</span>证件号码<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span> <span class="attr">width</span>=<span class="string">"140"</span>&gt;</span>状态<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span> <span class="attr">width</span>=<span class="string">"140"</span>&gt;</span>操作</span><br><span class="line">            <span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"table-overflow-auto"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span> <span class="attr">class</span>=<span class="string">"table   table-hover bordered"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">colgroup</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">col</span> <span class="attr">style</span>=<span class="string">"width: 140px;"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">col</span> <span class="attr">style</span>=<span class="string">"width:140px"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">col</span> <span class="attr">style</span>=<span class="string">"width: 240px;"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">col</span> <span class="attr">style</span>=<span class="string">"width: 140px;"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">col</span> <span class="attr">style</span>=<span class="string">"width: 140px;"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">colgroup</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tbody</span> <span class="attr">id</span>=<span class="string">"todobusiness-table"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span> <span class="attr">id</span>=<span class="string">"row"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span>测试<span class="tag">&lt;/<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">td</span>&gt;</span>测试<span class="tag">&lt;/<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">td</span>&gt;</span>测试<span class="tag">&lt;/<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">td</span>&gt;</span>测试<span class="tag">&lt;/<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">td</span>&gt;</span>测试<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><figcaption><span>[]</span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">   <span class="comment">/*固定高度 可滚动*/</span>    </span><br><span class="line"><span class="selector-class">.table-overflow-auto</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">342px</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: auto;</span><br><span class="line">    <span class="attribute">margin-top</span>: -<span class="number">1px</span>;</span><br><span class="line">&#125;</span><br><span class="line">   <span class="comment">/*滚动条宽高隐藏*/</span>    </span><br><span class="line"><span class="selector-class">.table-overflow-auto</span><span class="selector-pseudo">::-webkit-scrollbar</span> &#123;</span><br><span class="line">   <span class="attribute">display</span>: none;</span><br><span class="line">&#125;      </span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://youhanghang.com/2018/10/29/原生js的dom操作/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="游来游去">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YHHBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/29/原生js的dom操作/" itemprop="url">js原生dom操作</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-29T17:00:13+08:00">
                2018-10-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/前端/" itemprop="url" rel="index">
                    <span itemprop="name">前端</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id=""><a href="#" class="headerlink" title=""></a><a href=""></a></h2><figure class="highlight javascript"><figcaption><span>[标题] [] [url] [link text]</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment">/***兼容获得需要值的写法**/</span></span><br><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// javascript scrollTop正解使用方法</span></span><br><span class="line">    <span class="keyword">var</span> scrollTop = <span class="built_in">window</span>.pageYOffset || <span class="built_in">document</span>.documentElement.scrollTop || <span class="built_in">document</span>.body.scrollTop;</span><br><span class="line"></span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line"><span class="comment">//容错ie的方法，将类数组转换为数组</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">nodeListToArray</span>(<span class="params">nodes</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> arr;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// 非IE支持</span></span><br><span class="line">        arr = [].slice.call(nodes);</span><br><span class="line">        <span class="keyword">return</span> arr;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (err) &#123; <span class="comment">//支持IE</span></span><br><span class="line">        arr = [];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, length = nodes.length; i &lt; length; i++) &#123;</span><br><span class="line">            arr.push(nodes[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> arr;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Array.forEach implementation for IE 7,8 support..  使ie支持foreach  </span></span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">Array</span>.prototype.forEach) &#123;</span><br><span class="line">    <span class="built_in">Array</span>.prototype.forEach = <span class="function"><span class="keyword">function</span>(<span class="params">callback, thisArg</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> T, k;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span> == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">" this is null or not defined"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> O = <span class="built_in">Object</span>(<span class="keyword">this</span>);</span><br><span class="line">        <span class="keyword">var</span> len = O.length &gt;&gt;&gt; <span class="number">0</span>; <span class="comment">// Hack to convert O.length to a UInt32  </span></span><br><span class="line">        <span class="keyword">if</span> (&#123;&#125;.toString.call(callback) != <span class="string">"[object Function]"</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(callback + <span class="string">" is not a function"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (thisArg) &#123;</span><br><span class="line">            T = thisArg;</span><br><span class="line">        &#125;</span><br><span class="line">        k = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (k &lt; len) &#123;</span><br><span class="line">            <span class="keyword">var</span> kValue;</span><br><span class="line">            <span class="keyword">if</span> (k <span class="keyword">in</span> O) &#123;</span><br><span class="line">                kValue = O[k];</span><br><span class="line">                callback.call(T, kValue, k, O);</span><br><span class="line">            &#125;</span><br><span class="line">            k++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//火狐浏览器不支持outerHtml的办法，不知道哪个版本不支持</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">outerHtml</span>(<span class="params">elem</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> elem === <span class="string">"string"</span>) elem = <span class="built_in">document</span>.getElementById(elem);</span><br><span class="line">    <span class="comment">// 创建一个空div节点</span></span><br><span class="line">    <span class="keyword">var</span> div = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</span><br><span class="line">    <span class="comment">// 将复制的elemCopy插入到空div节点中 </span></span><br><span class="line">    div.appendChild(elem.cloneNode(<span class="literal">true</span>));</span><br><span class="line">    <span class="comment">// 返回div的HTML内容</span></span><br><span class="line">    <span class="keyword">return</span> div.innerHTML;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/***兼容获得需要值的写法 结束**/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/***********获得属性******************/</span></span><br><span class="line"><span class="comment">//获取dom的style下的属性  可以获得absolute元素的top和left</span></span><br><span class="line"><span class="comment">// js在获取css属性时如果标签中无style则无法直接获取css中的属性，所以需要一个方法可以做到这点。</span></span><br><span class="line"><span class="comment">// getStyle(obj,attr) 调用方法说明：obj为对像,attr为属性名必须兼容js中的写法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getStyle</span>(<span class="params">obj, attr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> ie = !+<span class="string">"\v1"</span>; <span class="comment">//简单判断ie6~8</span></span><br><span class="line">    <span class="keyword">if</span> (attr == <span class="string">"backgroundPosition"</span>) &#123; <span class="comment">//IE6~8不兼容backgroundPosition写法，识别backgroundPositionX/Y</span></span><br><span class="line">        <span class="keyword">if</span> (ie) &#123;</span><br><span class="line">            <span class="keyword">return</span> obj.currentStyle.backgroundPositionX + <span class="string">" "</span> + obj.currentStyle.backgroundPositionY;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (obj.currentStyle) &#123;</span><br><span class="line">        <span class="keyword">return</span> obj.currentStyle[attr];</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">document</span>.defaultView.getComputedStyle(obj, <span class="literal">null</span>)[attr];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/****************获得元素相对于页面位置，区别于相对窗口的位置*****************/</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getBoundingClientRect</span>(<span class="params">element</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> scrollTop = <span class="built_in">document</span>.documentElement.scrollTop;</span><br><span class="line">    <span class="keyword">var</span> scrollLeft = <span class="built_in">document</span>.documentElement.scrollLeft;</span><br><span class="line">    <span class="keyword">if</span> (element.getBoundingClientRect) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="built_in">arguments</span>.callee.offset != <span class="string">"number"</span>) &#123;</span><br><span class="line">            <span class="keyword">var</span> temp = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</span><br><span class="line">            temp.style.cssText = <span class="string">"position:absolute;left:0;top:0;"</span>;</span><br><span class="line">            <span class="built_in">document</span>.body.appendChild(temp);</span><br><span class="line">            <span class="built_in">arguments</span>.callee.offset = -temp.getBoundingClientRect().top - scrollTop;</span><br><span class="line">            <span class="built_in">document</span>.body.removeChild(temp);</span><br><span class="line">            temp = <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> rect = element.getBoundingClientRect();</span><br><span class="line">        <span class="keyword">var</span> offset = <span class="built_in">arguments</span>.callee.offset;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            left: rect.left + offset,</span><br><span class="line">            right: rect.right + offset,</span><br><span class="line">            top: rect.top + offset,</span><br><span class="line">            bottom: rect.bottom + offset</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> actualLeft = getElementLeft(element);</span><br><span class="line">        <span class="keyword">var</span> actualTop = getElementTop(element);</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            left: actualLeft - scrollLeft,</span><br><span class="line">            right: actualLeft + element.offsetWidth - scrollLeft,</span><br><span class="line">            top: actualTop - scrollTop,</span><br><span class="line">            bottom: actualTop + element.offsetHeight - scrollTop</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//获得当前页面滚动的距离</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getScrollTop</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> scrollTop = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">document</span>.documentElement &amp;&amp; <span class="built_in">document</span>.documentElement.scrollTop) &#123;</span><br><span class="line">        scrollTop = <span class="built_in">document</span>.documentElement.scrollTop;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">document</span>.body) &#123;</span><br><span class="line">        scrollTop = <span class="built_in">document</span>.body.scrollTop;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> scrollTop;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**************选择器***************/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//getElementsByClassName 方法支持ie8,7。对没有getElementsByClassName方法的浏览器版本添加上这个方法</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">document</span>.getElementsByClassName) &#123;</span><br><span class="line">    <span class="built_in">document</span>.getElementsByClassName = <span class="function"><span class="keyword">function</span>(<span class="params">className, element</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> children = (element || <span class="built_in">document</span>).getElementsByTagName(<span class="string">'*'</span>);</span><br><span class="line">        <span class="keyword">var</span> elements = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; children.length; i++) &#123;</span><br><span class="line">            <span class="keyword">var</span> child = children[i];</span><br><span class="line">            <span class="keyword">var</span> classNames = child.className.split(<span class="string">' '</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; classNames.length; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (classNames[j] == className) &#123;</span><br><span class="line">                    elements.push(child);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> elements;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取id 传入 #+id</span></span><br><span class="line"><span class="comment">//获取class 传入 .+class</span></span><br><span class="line"><span class="comment">//获取标签 传入 标签名</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">$</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> which = obj.substr(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">var</span> newName = obj.split(which)[<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">if</span> (which == <span class="string">'#'</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">document</span>.getElementById(newName);</span><br><span class="line">    &#125; <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">if</span> (which == <span class="string">'.'</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">document</span>.getElementsByClassName(newName);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">document</span>.getElementsByTagName(obj);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/****************文档处理*****************/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//var strHtml='';</span></span><br><span class="line"><span class="comment">//用 node.innerHTML=;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//内部处理</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// javascript追加html实现类似jQuery中append方法</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// $('.outer')[0].innerHTML+='&lt;span&gt;111&lt;/span&gt;';</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/************筛选****************/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//过滤</span></span><br><span class="line"><span class="comment">//获得当前元素在父元素的索引</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getItemIndex</span>(<span class="params">current, obj</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; obj.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (obj[i] == current) &#123;</span><br><span class="line">            <span class="keyword">return</span> i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hasClass</span>(<span class="params">obj, cls</span>) </span>&#123; <span class="comment">// 判断obj是否有此class</span></span><br><span class="line">    <span class="keyword">return</span> obj.className.match(<span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">'(\\s|^)'</span> + cls + <span class="string">'(\\s|$)'</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addClass</span>(<span class="params">obj, cls</span>) </span>&#123; <span class="comment">//给 obj添加class</span></span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">this</span>.hasClass(obj, cls)) &#123;</span><br><span class="line">        obj.className += <span class="string">" "</span> + cls;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">removeClass</span>(<span class="params">obj, cls</span>) </span>&#123; <span class="comment">//移除obj对应的class</span></span><br><span class="line">    <span class="keyword">if</span> (hasClass(obj, cls)) &#123;</span><br><span class="line">        <span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">'(\\s|^)'</span> + cls + <span class="string">'(\\s|$)'</span>);</span><br><span class="line">        obj.className = obj.className.replace(reg, <span class="string">" "</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//查找</span></span><br><span class="line"><span class="comment">//获取元素的兄弟节点</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">siblings</span>(<span class="params">o</span>) </span>&#123; <span class="comment">//参数o就是想取谁的兄弟节点，就把那个元素传进去</span></span><br><span class="line">    <span class="keyword">var</span> a = []; <span class="comment">//定义一个数组，用来存储o的兄弟元素</span></span><br><span class="line">    <span class="comment">//previousSibling返回位于相同节点树层级的前一个元素</span></span><br><span class="line">    <span class="keyword">var</span> p = o.previousSibling;</span><br><span class="line">    <span class="keyword">while</span> (p) &#123; <span class="comment">//先取o的前面的兄弟元素 判断有没有上一个兄弟元素，如果有则往下执行，p表示previousSibling</span></span><br><span class="line">        <span class="keyword">if</span> (p.nodeType === <span class="number">1</span>) &#123;</span><br><span class="line">            a.push(p);</span><br><span class="line">        &#125;</span><br><span class="line">        p = p.previousSibling <span class="comment">//最后把上一个节点赋给p</span></span><br><span class="line">    &#125;</span><br><span class="line">    a.reverse(); <span class="comment">//把顺序反转一下，这样元素的顺序就是按先后的了</span></span><br><span class="line">    <span class="comment">//nextSibling返回位于相同节点树层级的下一个节点</span></span><br><span class="line">    <span class="keyword">var</span> n = o.nextSibling; <span class="comment">//再取o下面的兄弟元素</span></span><br><span class="line">    <span class="keyword">while</span> (n) &#123; <span class="comment">//判断有没有下一个兄弟结点，n是nextSibling的意思</span></span><br><span class="line">        <span class="keyword">if</span> (n.nodeType === <span class="number">1</span>) &#123; <span class="comment">//判断是否是元素节点</span></span><br><span class="line">            a.push(n);</span><br><span class="line">        &#125;</span><br><span class="line">        n = n.nextSibling;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> a <span class="comment">//最后按从老大到老小的顺序，把这一组元素返回</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取下一个元素结点</span></span><br><span class="line"><span class="comment"> * @param &#123;Object&#125; node  兄结点</span></span><br><span class="line"><span class="comment"> * @return &#123;Object || null&#125;下一个元素结点或未获取到</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getNextElement</span>(<span class="params">node</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (node.nextSibling.nodeType == <span class="number">1</span>) &#123; <span class="comment">//判断下一个节点类型为1则是“元素”节点   </span></span><br><span class="line">        <span class="keyword">return</span> node.nextSibling;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (node.nextSibling.nodeType == <span class="number">3</span>) &#123; <span class="comment">//判断下一个节点类型为3则是“文本”节点  ，回调自身函数  </span></span><br><span class="line">        <span class="keyword">return</span> getNextElement(node.nextSibling);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getChildNodes</span>(<span class="params">ele</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//为了提高代码的兼容性，避免个别浏览器不支持 children 或 childNodes 的情况，可以这样编写代码：</span></span><br><span class="line">    <span class="keyword">var</span> childArr = ele.children || ele.childNodes;</span><br><span class="line">    childArrTem = <span class="keyword">new</span> <span class="built_in">Array</span>(); <span class="comment">//  临时数组，用来存储符合条件的节点</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = childArr.length; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (childArr[i].nodeType == <span class="number">1</span>) &#123;</span><br><span class="line">            childArrTem.push(childArr[i]); <span class="comment">// push() 方法将节点添加到数组尾部</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> childArrTem;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取元素的兄弟节点</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">siblings</span>(<span class="params">o</span>) </span>&#123; <span class="comment">//参数o就是想取谁的兄弟节点，就把那个元素传进去</span></span><br><span class="line">    <span class="keyword">var</span> a = []; <span class="comment">//定义一个数组，用来存储o的兄弟元素</span></span><br><span class="line">    <span class="comment">//previousSibling返回位于相同节点树层级的前一个元素</span></span><br><span class="line">    <span class="keyword">var</span> p = o.previousSibling;</span><br><span class="line">    <span class="keyword">while</span> (p) &#123; <span class="comment">//先取o的前面的兄弟元素 判断有没有上一个兄弟元素，如果有则往下执行，p表示previousSibling</span></span><br><span class="line">        <span class="keyword">if</span> (p.nodeType === <span class="number">1</span>) &#123;</span><br><span class="line">            a.push(p);</span><br><span class="line">        &#125;</span><br><span class="line">        p = p.previousSibling <span class="comment">//最后把上一个节点赋给p</span></span><br><span class="line">    &#125;</span><br><span class="line">    a.reverse(); <span class="comment">//把顺序反转一下，这样元素的顺序就是按先后的了</span></span><br><span class="line">    <span class="comment">//nextSibling返回位于相同节点树层级的下一个节点</span></span><br><span class="line">    <span class="keyword">var</span> n = o.nextSibling; <span class="comment">//再取o下面的兄弟元素</span></span><br><span class="line">    <span class="keyword">while</span> (n) &#123; <span class="comment">//判断有没有下一个兄弟结点，n是nextSibling的意思</span></span><br><span class="line">        <span class="keyword">if</span> (n.nodeType === <span class="number">1</span>) &#123; <span class="comment">//判断是否是元素节点</span></span><br><span class="line">            a.push(n);</span><br><span class="line">        &#125;</span><br><span class="line">        n = n.nextSibling;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> a <span class="comment">//最后按从老大到老小的顺序，把这一组元素返回</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*************效果******************/</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">animate</span>(<span class="params">obj, json, interval, sp, fn</span>) </span>&#123;</span><br><span class="line">    clearInterval(obj.timer);</span><br><span class="line">    <span class="comment">//var k = 0;</span></span><br><span class="line">    <span class="comment">//var j = 0;</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">getStyle</span>(<span class="params">obj, arr</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (obj.currentStyle) &#123;</span><br><span class="line">            <span class="keyword">return</span> obj.currentStyle[arr]; <span class="comment">//针对ie</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">document</span>.defaultView.getComputedStyle(obj, <span class="literal">null</span>)[arr];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    obj.timer = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">//j ++;</span></span><br><span class="line">        <span class="keyword">var</span> flag = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> arr <span class="keyword">in</span> json) &#123;</span><br><span class="line">            <span class="keyword">var</span> icur = <span class="number">0</span>;</span><br><span class="line">            <span class="comment">//k++;</span></span><br><span class="line">            <span class="keyword">if</span> (arr == <span class="string">"opacity"</span>) &#123;</span><br><span class="line">                icur = <span class="built_in">Math</span>.round(<span class="built_in">parseFloat</span>(getStyle(obj, arr)) * <span class="number">100</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                icur = <span class="built_in">parseInt</span>(getStyle(obj, arr));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">var</span> speed = (json[arr] - icur) * sp;</span><br><span class="line">            speed = speed &gt; <span class="number">0</span> ? <span class="built_in">Math</span>.ceil(speed) : <span class="built_in">Math</span>.floor(speed);</span><br><span class="line">            <span class="keyword">if</span> (icur != json[arr]) &#123;</span><br><span class="line">                flag = <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (arr == <span class="string">"opacity"</span>) &#123;</span><br><span class="line">                obj.style.filter = <span class="string">"alpha(opacity : '+(icur + speed)+' )"</span>;</span><br><span class="line">                obj.style.opacity = (icur + speed) / <span class="number">100</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                obj.style[arr] = icur + speed + <span class="string">"px"</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//console.log(j + "," + arr +":"+ flag);</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">            clearInterval(obj.timer);</span><br><span class="line">            <span class="comment">//console.log(j + ":" + flag); </span></span><br><span class="line">            <span class="comment">//console.log("k = " + k);</span></span><br><span class="line">            <span class="comment">//console.log("j = " + j);</span></span><br><span class="line">            <span class="comment">//console.log("DONE");</span></span><br><span class="line">            <span class="keyword">if</span> (fn) &#123;</span><br><span class="line">                fn();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, interval);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/***************ajax*******************/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 原生ajax</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//get get get</span></span><br><span class="line"><span class="comment">// 使用 GET 请求经常会发生的一个错误，就是查询字符串的格式有问题。查询字符串中每个参数的名</span></span><br><span class="line"><span class="comment">// 称和值都必须使用 encodeURIComponent()进行编码，然后才能放到 URL 的末尾；而且所有名-值对</span></span><br><span class="line"><span class="comment">// 儿都必须由和号（&amp;）分隔，如下面的例子所示。</span></span><br><span class="line"><span class="comment">// xhr.open("get", "example.php?name1=value1&amp;name2=value2", true);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 下面这个函数可以辅助向现有 URL 的末尾添加查询字符串参数：</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addURLParam</span>(<span class="params">url, name, value</span>) </span>&#123;</span><br><span class="line">    url += (url.indexOf(<span class="string">"?"</span>) == <span class="number">-1</span> ? <span class="string">"?"</span> : <span class="string">"&amp;"</span>);</span><br><span class="line">    url += <span class="built_in">encodeURIComponent</span>(name) + <span class="string">"="</span> + <span class="built_in">encodeURIComponent</span>(value);</span><br><span class="line">    <span class="keyword">return</span> url;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 下面是使用这个函数来构建请求 URL 的示例。</span></span><br><span class="line"><span class="comment">// var url = "example.php";</span></span><br><span class="line"><span class="comment">// //添加参数</span></span><br><span class="line"><span class="comment">// url = addURLParam(url, "name", "Nicholas");</span></span><br><span class="line"><span class="comment">// url = addURLParam(url, "book", "Professional JavaScript");</span></span><br><span class="line"><span class="comment">// //初始化请求</span></span><br><span class="line"><span class="comment">// xhr.open("get", url, false);</span></span><br><span class="line"><span class="comment">// 在这里使用 addURLParam()函数可以确保查询字符串的格式良好，并可靠地用于 XHR 对象。</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//get 请求实例</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// var xhr = createXHR();</span></span><br><span class="line"><span class="comment">// xhr.onreadystatechange = function() &#123;</span></span><br><span class="line"><span class="comment">//     if (xhr.readyState == 4) &#123;</span></span><br><span class="line"><span class="comment">//         if ((xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300) || xhr.status == 304) &#123;</span></span><br><span class="line"><span class="comment">//             alert(xhr.responseText);</span></span><br><span class="line"><span class="comment">//         &#125; else &#123;</span></span><br><span class="line"><span class="comment">//             alert("Request was unsuccessful: " + xhr.status);</span></span><br><span class="line"><span class="comment">//         &#125;</span></span><br><span class="line"><span class="comment">//     &#125;</span></span><br><span class="line"><span class="comment">// &#125;;</span></span><br><span class="line"><span class="comment">// var url = "/myweb/public/index/index/hello";</span></span><br><span class="line"><span class="comment">// //添加参数</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// url = addURLParam(url, "book", "Professional JavaScript");</span></span><br><span class="line"><span class="comment">// xhr.open("get", url, false);</span></span><br><span class="line"><span class="comment">// xhr.send(null);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//post post post</span></span><br><span class="line"><span class="comment">// 这个函数中新增的代码首先检测原生 XHR 对象是否存在，如果存在则返回它的新实例。如果原生</span></span><br><span class="line"><span class="comment">// 对象不存在，则检测 ActiveX 对象。如果这两种对象都不存在，就抛出一个错误。然后，就可以使用下</span></span><br><span class="line"><span class="comment">// 面的代码在所有浏览器中创建 XHR 对象了。</span></span><br><span class="line"><span class="comment">// var xhr = createXHR();</span></span><br><span class="line"><span class="comment">// 由于其他浏览器中对 XHR 的实现与 IE 最早的实现是兼容的，因此就可以在所有浏览器中都以相同</span></span><br><span class="line"><span class="comment">// 方式使用上面创建的 xhr 对象</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createXHR</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> XMLHttpRequest != <span class="string">"undefined"</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> ActiveXObject != <span class="string">"undefined"</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="built_in">arguments</span>.callee.activeXString != <span class="string">"string"</span>) &#123;</span><br><span class="line">            <span class="keyword">var</span> versions = [<span class="string">"MSXML2.XMLHttp.6.0"</span>, <span class="string">"MSXML2.XMLHttp.3.0"</span>,</span><br><span class="line">                    <span class="string">"MSXML2.XMLHttp"</span></span><br><span class="line">                ],</span><br><span class="line">                i, len;</span><br><span class="line">            <span class="keyword">for</span> (i = <span class="number">0</span>, len = versions.length; i &lt; len; i++) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    <span class="keyword">new</span> ActiveXObject(versions[i]);</span><br><span class="line">                    <span class="built_in">arguments</span>.callee.activeXString = versions[i];</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125; <span class="keyword">catch</span> (ex) &#123;</span><br><span class="line">                    <span class="comment">//跳过</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ActiveXObject(<span class="built_in">arguments</span>.callee.activeXString);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"No XHR object available."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 我们可以使用 XHR 来模仿表单提</span></span><br><span class="line"><span class="comment">// 交：首先将 Content-Type 头部信息设置为 application/x-www-form-urlencoded，也就是表单</span></span><br><span class="line"><span class="comment">// 提交时的内容类型，其次是以适当的格式创建一个字符串。第 14 章曾经讨论过， POST 数据的格式与查</span></span><br><span class="line"><span class="comment">// 询字符串格式相同。如果需要将页面中表单的数据进行序列化，然后再通过 XHR 发送到服务器，那么</span></span><br><span class="line"><span class="comment">// 就可以使用第 14 章介绍的 serialize()函数来创建这个字符串</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//post实例</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// function submitData() &#123;</span></span><br><span class="line"><span class="comment">//     var xhr = createXHR();</span></span><br><span class="line"><span class="comment">//     xhr.onreadystatechange = function() &#123;</span></span><br><span class="line"><span class="comment">//         if (xhr.readyState == 4) &#123;</span></span><br><span class="line"><span class="comment">//             if ((xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300) || xhr.status == 304) &#123;</span></span><br><span class="line"><span class="comment">//                 alert(xhr.responseText);</span></span><br><span class="line"><span class="comment">//             &#125; else &#123;</span></span><br><span class="line"><span class="comment">//                 alert("Request was unsuccessful: " + xhr.status);</span></span><br><span class="line"><span class="comment">//             &#125;</span></span><br><span class="line"><span class="comment">//         &#125;</span></span><br><span class="line"><span class="comment">//     &#125;;</span></span><br><span class="line"><span class="comment">//     xhr.open("post", "/myweb/public/index/index/hello", true);</span></span><br><span class="line"><span class="comment">//     xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");</span></span><br><span class="line"><span class="comment">//     var form = document.getElementById("form1");</span></span><br><span class="line"><span class="comment">//     xhr.send(serialize(form));</span></span><br><span class="line"><span class="comment">//     console.log('zhixingle')</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// submitData();</span></span><br><span class="line"><span class="comment">/*************其他****************/</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">serialize</span>(<span class="params">form</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> parts = [],</span><br><span class="line">        field = <span class="literal">null</span>,</span><br><span class="line">        i,</span><br><span class="line">        len,</span><br><span class="line">        j,</span><br><span class="line">        optLen,</span><br><span class="line">        option,</span><br><span class="line">        optValue;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>, len = form.elements.length; i &lt; len; i++) &#123;</span><br><span class="line">        field = form.elements[i];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">switch</span> (field.type) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">"select-one"</span>:</span><br><span class="line">            <span class="keyword">case</span> <span class="string">"select-multiple"</span>:</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (field.name.length) &#123;</span><br><span class="line">                    <span class="keyword">for</span> (j = <span class="number">0</span>, optLen = field.options.length; j &lt; optLen; j++) &#123;</span><br><span class="line">                        option = field.options[j];</span><br><span class="line">                        <span class="keyword">if</span> (option.selected) &#123;</span><br><span class="line">                            optValue = <span class="string">""</span>;</span><br><span class="line">                            <span class="keyword">if</span> (option.hasAttribute) &#123;</span><br><span class="line">                                optValue = (option.hasAttribute(<span class="string">"value"</span>) ? option.value : option.text);</span><br><span class="line">                            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                                optValue = (option.attributes[<span class="string">"value"</span>].specified ? option.value : option.text);</span><br><span class="line">                            &#125;</span><br><span class="line">                            parts.push(<span class="built_in">encodeURIComponent</span>(field.name) + <span class="string">"="</span> + <span class="built_in">encodeURIComponent</span>(optValue));</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">case</span> <span class="literal">undefined</span>: <span class="comment">//fieldset</span></span><br><span class="line">            <span class="keyword">case</span> <span class="string">"file"</span>: <span class="comment">//file input</span></span><br><span class="line">            <span class="keyword">case</span> <span class="string">"submit"</span>: <span class="comment">//submit button</span></span><br><span class="line">            <span class="keyword">case</span> <span class="string">"reset"</span>: <span class="comment">//reset button</span></span><br><span class="line">            <span class="keyword">case</span> <span class="string">"button"</span>: <span class="comment">//custom button</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">case</span> <span class="string">"radio"</span>: <span class="comment">//radio button</span></span><br><span class="line">            <span class="keyword">case</span> <span class="string">"checkbox"</span>: <span class="comment">//checkbox</span></span><br><span class="line">                <span class="keyword">if</span> (!field.checked) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">/* falls through */</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="comment">//don't include form fields without names</span></span><br><span class="line">                <span class="keyword">if</span> (field.name.length) &#123;</span><br><span class="line">                    parts.push(<span class="built_in">encodeURIComponent</span>(field.name) + <span class="string">"="</span> + <span class="built_in">encodeURIComponent</span>(field.value));</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> parts.join(<span class="string">"&amp;"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://youhanghang.com/2018/10/29/前端插件收藏/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="游来游去">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YHHBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/29/前端插件收藏/" itemprop="url">前端插件收藏</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-29T17:00:13+08:00">
                2018-10-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/前端/" itemprop="url" rel="index">
                    <span itemprop="name">前端</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://www.baidu.com/s?wd=前端插件收藏" target="_blank" rel="noopener">百度搜索前端插件收藏</a><br><a href="https://github-youhanghang.github.io/Examples/" target="_blank" rel="noopener">前端案例收藏</a><br><a href="https://github.com/iamjoel/front-end-plugins" target="_blank" rel="noopener">Web 前端常用插件</a></p>
<blockquote>
<ul>
<li><a href="https://github.com/Prinzhorn/skrollr" target="_blank" rel="noopener">滚动视差</a></li>
<li><a href="http://dynamicsjs.com/" target="_blank" rel="noopener">创建逼真的物理动画的 JS 库</a></li>
<li></li>
<li></li>
<li></li>
</ul>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://youhanghang.com/2018/10/29/写过的oracle语句/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="游来游去">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YHHBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/29/写过的oracle语句/" itemprop="url">写过的oracle语句</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-29T17:00:12+08:00">
                2018-10-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/oracle/" itemprop="url" rel="index">
                    <span itemprop="name">oracle</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="使用时间戳去查询某个时间的数据库里的数据"><a href="#使用时间戳去查询某个时间的数据库里的数据" class="headerlink" title="使用时间戳去查询某个时间的数据库里的数据"></a>使用时间戳去查询某个时间的数据库里的数据</h3><p>SELECT * FROM SYS_CODE AS OF TIMESTAMP TO_TIMESTAMP ( ‘2017-12-08 11:00:00’, ‘yyyy-mm-dd hh24:mi:ss’ ) where CODE_KIND like ‘%指标%’;</p>
<h3 id="聚合函数和groupby使用"><a href="#聚合函数和groupby使用" class="headerlink" title="聚合函数和groupby使用"></a>聚合函数和groupby使用</h3><figure class="highlight sql"><figcaption><span>[]</span></figcaption><table><tr><td class="code"><pre><span class="line">//按code_order排序查询出 code_kind = '经济技术指标'下，7大分类和其的下面子分类</span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">	RAWTOHEX (SYS_GUID()) <span class="keyword">AS</span> <span class="keyword">ID</span>,</span><br><span class="line">	<span class="built_in">text</span></span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">	(</span><br><span class="line">		<span class="keyword">SELECT</span> </span><br><span class="line">			<span class="built_in">text</span>,<span class="keyword">max</span>(code_order) code_order</span><br><span class="line">		<span class="keyword">FROM</span></span><br><span class="line">			(</span><br><span class="line">				<span class="keyword">SELECT</span></span><br><span class="line">					code_kind || <span class="string">'#'</span> || CODE_EXTEND ||<span class="string">'#'</span>|| CODE_COMMENT <span class="built_in">text</span>,</span><br><span class="line">					code_order</span><br><span class="line">				<span class="keyword">FROM</span></span><br><span class="line">					sys_code</span><br><span class="line">				<span class="keyword">WHERE</span></span><br><span class="line">					code_kind = <span class="string">'经济技术指标'</span></span><br><span class="line">				<span class="keyword">ORDER</span> <span class="keyword">BY</span></span><br><span class="line">					CODE_ORDER</span><br><span class="line">			)</span><br><span class="line">		<span class="keyword">GROUP</span>  <span class="keyword">BY</span></span><br><span class="line">			<span class="built_in">text</span> </span><br><span class="line">		<span class="keyword">ORDER</span> <span class="keyword">BY</span> code_order</span><br><span class="line">	)</span><br><span class="line"><span class="number">1940196</span>AA8464F8EBBD748AADEA37448	经济技术指标#采油厂#主要经济技术指标	<span class="number">19007904.41</span></span><br><span class="line">EEDF42BF48E146C88376A33B071B84B7	经济技术指标#采气厂#主要经济技术指标	<span class="number">19082216.34</span></span><br><span class="line">C66FC38AAC9B433FBA4014DF35E87CBE	经济技术指标#净化厂#主要经济技术指标	<span class="number">19330989.19</span></span><br><span class="line">ADC493ECA2F0440990A19A95C320BAFD	经济技术指标#采油(气)管理区#采油管理区	<span class="number">19347891.18</span></span><br><span class="line"><span class="number">263</span>BAEB90E744F4FB0BE122473F9BB8D	经济技术指标#采油(气)管理区#采气管理区	<span class="number">19349672.56</span></span><br><span class="line"><span class="number">36965005827</span>C436483129B188B7477D8	经济技术指标#采油(气)厂科研单位#采油厂地质研究所	<span class="number">19411223.36</span></span><br><span class="line"><span class="number">4</span>B36BAC1FADC4B63AA205E3B8CAC1466	经济技术指标#采油(气)厂科研单位#采油厂工艺研究所	<span class="number">19411247.36</span></span><br><span class="line"><span class="number">024</span>AC7FC298C43EDBAFEC20693CD0F66	经济技术指标#采油(气)厂科研单位#采油厂开发研究所	<span class="number">19411283.36</span></span><br><span class="line"><span class="number">0</span>C583DDA75534BCDBB3DFB35A32E990E	经济技术指标#采油(气)厂科研单位#采气厂地质研究所	<span class="number">19411292.36</span></span><br><span class="line"><span class="number">341</span>F0E80EA6044FA9EC38F116E6FBF9C	经济技术指标#采油(气)厂科研单位#采气厂工艺研究所	<span class="number">19411307.36</span></span><br><span class="line"><span class="number">340958</span>BACDB8457E80BADA85A99FDE0C	经济技术指标#采油(气)厂科研单位#采气厂开发研究所	<span class="number">19411325.36</span></span><br><span class="line">B592CCF2233A4BC7AAC8C90FC65FB7C5	经济技术指标#集输站库#联合站(库)考核指标	<span class="number">19413747.17</span></span><br><span class="line"><span class="number">9</span>F4A512D9CDF47729815FF60B8FA15AF	经济技术指标#集输站库#油库首(末)站	<span class="number">19429714.94</span></span><br><span class="line"><span class="number">23E8474</span>C0BC94E60A312F9A58A02CA8F	经济技术指标#集输站库#污水处理站	<span class="number">19431122.87</span></span><br><span class="line"><span class="number">8</span>F977A28A79140389D6669AFEB488D93	经济技术指标#集输站库#输气队、集(压)气站	<span class="number">19518298.82</span></span><br><span class="line">AD75747D36A04C39965AA69B749E9B98	经济技术指标#集输站库#气体处理站、天然气净化站(车间)	<span class="number">19519173.34</span></span><br><span class="line"><span class="number">1</span>B92168931BE462DB9834CFAA8B292E2	经济技术指标#集输站库#变电所	<span class="number">19519948.89</span></span><br><span class="line"><span class="number">1</span>FBD020EE667427D9CF1B3A5BB83920D	经济技术指标#专业化队伍#井下作业队(大修队、压列队、试油队)	<span class="number">19520403.65</span></span><br><span class="line"><span class="number">983</span>B5AD47BD54835BE4A79B537CA095C	经济技术指标#专业化队伍#注汽队	<span class="number">19520887.44</span></span><br><span class="line"><span class="number">7</span>C7B936FB2D34A33901115350FA072EB	经济技术指标#专业化队伍#注聚队	<span class="number">19522366.16</span></span><br><span class="line">E733B848F071406C9D15B81861EE8F79	经济技术指标#专业化队伍#测试队	<span class="number">19523163.49</span></span><br><span class="line"><span class="number">60</span>B1C13D742C454E9D4CF9AD906EBA82	经济技术指标#专业化队伍#厂直属维修队、生产准备队、安装队	<span class="number">19523799.68</span></span><br><span class="line"><span class="number">2827</span>A7D83728427690E40C0B2D16C6FE	经济技术指标#专业化队伍#运输(特车)队	<span class="number">19524075.88</span></span><br></pre></td></tr></table></figure>
<h3 id="将一行数据折成三行显示"><a href="#将一行数据折成三行显示" class="headerlink" title="将一行数据折成三行显示"></a>将一行数据折成三行显示</h3><p>原来的一行数据</p>
<p>EPXID    DATA_WRAP    DATA_KIND    DATA_OTHERFLAG    DATA_STATE    DATA_YEAR    DATA_MONTH    DATA_DAY    DATA_ORDER    DATA_USEFLAG    DATA_DELFLAG    DATA_VCODE    单位全称    数据年度    数据季度    参评类型    利润比先进    利润比进步    利润比贡献    单位操作成本比先进    单位操作成本比进步    单位操作成本比贡献    原油产量比先进    原油产量比进步    原油产量比贡献    天然气产量比先进    天然气产量比进步    天然气产量比贡献    单位综合能耗比先进    单位综合能耗比进步    单位综合能耗比贡献    利润比先进得分    利润比进步得分    利润比贡献得分    单位操作成本比先进得分    单位操作成本比进步得分    单位操作成本比贡献得分    原油产量比先进得分    原油产量比进步得分    原油产量比贡献得分    天然气产量比先进得分    天然气产量比进步得分    天然气产量比贡献得分    单位综合能耗比先进得分    单位综合能耗比进步得分    单位综合能耗比贡献得分    利润得分    单位操作成本得分    原油产量得分    天然气产量得分    单位综合能耗得分    三项指标总得分    数据锁值    最后修改人员    最后修改时间<br>0BFDA3E7-BABB-4251-A182-03ED20DAD316    1    三项指标    FLC    1    2017    12    12    23059539.0350    1    0        胜利油田分公司胜利采油厂    2017        采油厂    109.9959    108.3584    1234    894    -6.8790    2    114.9701    14.4902    25                            40    40    19.60    39.20    39.20    19.60    40    40    20                            99.60    98    100            99.173333333333        admin    2017-12-12</p>
<p>查询成3行数据</p>
<table>
<thead>
<tr>
<th style="text-align:center">CODE_NM</th>
<th style="text-align:center">比先进</th>
<th style="text-align:center">比进步</th>
<th style="text-align:center">比贡献</th>
<th style="text-align:center">得分</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">利润分值</td>
<td style="text-align:center">109.9959#100#40</td>
<td style="text-align:center">108.3584#100#40</td>
<td style="text-align:center">2#98#19.6</td>
<td style="text-align:center">2#98#19.6</td>
</tr>
<tr>
<td style="text-align:center">单位操作成本分值</td>
<td style="text-align:center">2#98#19.6</td>
<td style="text-align:center">2#98#19.6</td>
<td style="text-align:center">2#98#19.6</td>
<td style="text-align:center">2#98#19.6</td>
</tr>
<tr>
<td style="text-align:center">原油产量分值</td>
<td style="text-align:center">2#98#19.6</td>
<td style="text-align:center">2#98#19.6</td>
<td style="text-align:center">2#98#19.6</td>
<td style="text-align:center">2#98#19.6</td>
</tr>
<tr>
<td style="text-align:center">平均得分</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">99.173333333333</td>
</tr>
</tbody>
</table>
<figure class="highlight sql"><figcaption><span>[]</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">	A .CODE_NM,</span><br><span class="line">	b.比先进,</span><br><span class="line">	b.比进步,</span><br><span class="line">	b.比贡献,</span><br><span class="line">	b.得分</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">	(</span><br><span class="line">		<span class="keyword">SELECT</span></span><br><span class="line">			<span class="keyword">ROWNUM</span> rn,</span><br><span class="line">			CODE_NM</span><br><span class="line">		<span class="keyword">FROM</span></span><br><span class="line">			(</span><br><span class="line">				<span class="keyword">SELECT</span></span><br><span class="line">					CODE_NM,</span><br><span class="line">					CODE_ORDER</span><br><span class="line">				<span class="keyword">FROM</span></span><br><span class="line">					(</span><br><span class="line">						<span class="keyword">SELECT</span></span><br><span class="line">							CODE_NM,</span><br><span class="line">							CODE_ORDER</span><br><span class="line">						<span class="keyword">FROM</span></span><br><span class="line">							SYS_CODE</span><br><span class="line">						<span class="keyword">WHERE</span></span><br><span class="line">							CODE_TIME = <span class="string">'2017'</span></span><br><span class="line">						<span class="keyword">AND</span> CODE_KIND = <span class="string">'三项权重信息'</span></span><br><span class="line">						<span class="keyword">AND</span> CODE_VCODE = <span class="string">'采油厂'</span></span><br><span class="line">						<span class="keyword">AND</span> CODE_NM <span class="keyword">LIKE</span> <span class="string">'%分值'</span></span><br><span class="line">						<span class="keyword">UNION</span></span><br><span class="line">							<span class="keyword">SELECT</span></span><br><span class="line">								<span class="string">'平均得分'</span> CODE_NM,</span><br><span class="line">								<span class="number">999999999</span> CODE_ORDER</span><br><span class="line">							<span class="keyword">FROM</span></span><br><span class="line">								dual</span><br><span class="line">							<span class="keyword">WHERE</span></span><br><span class="line">								<span class="keyword">ROWNUM</span> = <span class="number">1</span></span><br><span class="line">					)</span><br><span class="line">				<span class="keyword">ORDER</span> <span class="keyword">BY</span></span><br><span class="line">					code_order</span><br><span class="line">			)</span><br><span class="line">	) A,</span><br><span class="line">	(</span><br><span class="line">		<span class="keyword">SELECT</span></span><br><span class="line">			<span class="keyword">ROWNUM</span> rn,</span><br><span class="line">			比先进,</span><br><span class="line">			比进步,</span><br><span class="line">			比贡献,</span><br><span class="line">			得分</span><br><span class="line">		<span class="keyword">FROM</span></span><br><span class="line">			(</span><br><span class="line">				<span class="keyword">SELECT</span></span><br><span class="line">					<span class="number">1</span>,</span><br><span class="line">					利润比先进||<span class="string">'#'</span>||利润比先进得分/<span class="number">0.4</span>||<span class="string">'#'</span>||利润比先进得分 比先进,</span><br><span class="line">					利润比进步||<span class="string">'#'</span>||利润比进步得分/<span class="number">0.4</span>||<span class="string">'#'</span>||利润比进步得分 比进步,</span><br><span class="line">					利润比贡献||<span class="string">'#'</span>||利润比贡献得分/<span class="number">0.2</span>||<span class="string">'#'</span>||利润比贡献得分 比贡献,</span><br><span class="line">					利润得分 得分</span><br><span class="line">				<span class="keyword">FROM</span></span><br><span class="line">					V_SXZB3727470703</span><br><span class="line">				<span class="keyword">WHERE</span></span><br><span class="line">					单位全称 = <span class="string">'胜利油田分公司胜利采油厂'</span></span><br><span class="line">				<span class="keyword">AND</span> 数据年度 = <span class="string">'2017'</span></span><br><span class="line">				<span class="keyword">UNION</span></span><br><span class="line">					<span class="keyword">SELECT</span></span><br><span class="line">						<span class="number">2</span>,</span><br><span class="line">						单位操作成本比先进||<span class="string">'#'</span>||单位操作成本比先进得分/<span class="number">0.4</span>||<span class="string">'#'</span>||单位操作成本比先进得分 比先进,</span><br><span class="line">						单位操作成本比进步||<span class="string">'#'</span>||单位操作成本比进步得分/<span class="number">0.4</span>||<span class="string">'#'</span>|| 单位操作成本比进步得分,</span><br><span class="line">						单位操作成本比贡献||<span class="string">'#'</span>||单位操作成本比贡献得分/<span class="number">0.2</span>||<span class="string">'#'</span>|| 单位操作成本比贡献得分,</span><br><span class="line">						单位操作成本得分 得分</span><br><span class="line">					<span class="keyword">FROM</span></span><br><span class="line">						V_SXZB3727470703</span><br><span class="line">					<span class="keyword">WHERE</span></span><br><span class="line">						单位全称 = <span class="string">'胜利油田分公司胜利采油厂'</span></span><br><span class="line">					<span class="keyword">AND</span> 数据年度 = <span class="string">'2017'</span></span><br><span class="line">					<span class="keyword">UNION</span></span><br><span class="line">						<span class="keyword">SELECT</span></span><br><span class="line">							<span class="number">3</span>,</span><br><span class="line">							原油产量比先进||<span class="string">'#'</span>||原油产量比先进得分/<span class="number">0.4</span>||<span class="string">'#'</span>||原油产量比先进得分 比先进,</span><br><span class="line">							原油产量比进步||<span class="string">'#'</span>||原油产量比进步得分/<span class="number">0.4</span>||<span class="string">'#'</span>||原油产量比进步得分 比进步,</span><br><span class="line">							原油产量比贡献||<span class="string">'#'</span>||原油产量比贡献得分/<span class="number">0.2</span>||<span class="string">'#'</span>||原油产量比贡献得分 比贡献,</span><br><span class="line">							原油产量得分 得分</span><br><span class="line">						<span class="keyword">FROM</span></span><br><span class="line">							V_SXZB3727470703</span><br><span class="line">						<span class="keyword">WHERE</span></span><br><span class="line">							单位全称 = <span class="string">'胜利油田分公司胜利采油厂'</span></span><br><span class="line">						<span class="keyword">AND</span> 数据年度 = <span class="string">'2017'</span></span><br><span class="line">						<span class="keyword">UNION</span></span><br><span class="line">							<span class="keyword">SELECT</span></span><br><span class="line">								<span class="number">4</span>,</span><br><span class="line">								<span class="literal">NULL</span> 比先进 ,</span><br><span class="line">								<span class="literal">NULL</span> 比进步 ,</span><br><span class="line">								<span class="literal">NULL</span> 比贡献 ,</span><br><span class="line">								三项指标总得分 得分</span><br><span class="line">							<span class="keyword">FROM</span></span><br><span class="line">								V_SXZB3727470703</span><br><span class="line">							<span class="keyword">WHERE</span></span><br><span class="line">								单位全称 = <span class="string">'胜利油田分公司胜利采油厂'</span></span><br><span class="line">							<span class="keyword">AND</span> 数据年度 = <span class="string">'2017'</span></span><br><span class="line">			) 　</span><br><span class="line">	) b</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">	A .rn = b.rn</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://youhanghang.com/2018/10/29/写博客常用/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="游来游去">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YHHBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/29/写博客常用/" itemprop="url">写博客常用</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-29T17:00:12+08:00">
                2018-10-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/前端/" itemprop="url" rel="index">
                    <span itemprop="name">前端</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="js表单验证大全"><a href="#js表单验证大全" class="headerlink" title="js表单验证大全"></a><a href="https://www.baidu.com/s?wd=js表单验证大全" target="_blank" rel="noopener">js表单验证大全</a></h2><h3 id="测试代码高亮"><a href="#测试代码高亮" class="headerlink" title="测试代码高亮"></a>测试代码高亮</h3><figure class="highlight css"><figcaption><span>[标题] [] [url] [link text]</span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="3-高亮一段代码-code"><a href="#3-高亮一段代码-code" class="headerlink" title="3. 高亮一段代码[^code]"></a>3. 高亮一段代码[^code]</h3><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">@requires_authorization</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SomeClass</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    <span class="comment"># A comment</span></span><br><span class="line">    <span class="keyword">print</span> <span class="string">'hello world'</span></span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://youhanghang.com/2018/10/29/事件委托/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="游来游去">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YHHBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/29/事件委托/" itemprop="url">事件委托</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-29T17:00:12+08:00">
                2018-10-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/前端/" itemprop="url" rel="index">
                    <span itemprop="name">前端</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://www.baidu.com/s?wd=事件委托" target="_blank" rel="noopener">百度搜索事件委托</a><br>实验室有事件委托例子<br>什么是事件委托？<br>事件委托——给父元素绑定事件，用来监听子元素的冒泡事件，并找到是哪个子元素的事件。<br>好处：避免对每个字元素添加事件监听器，减少操作DOM节点的次数，从而减少浏览器的重绘和重排，提高代码的性能。</p>
<h3 id="jquery事件委托"><a href="#jquery事件委托" class="headerlink" title="jquery事件委托"></a>jquery事件委托</h3><p>e.target  产生事件的元素对象，例如直接被点击的元素<br>e.currentTarget 处理事件的当前元素对象，也就是当前事件函数里的this<br>为ul绑定事件，e为ul事件对象<br>点击li，e.target为li,e.currentTarget为ul，e.target!=e.currentTarget<br>点击ul，e.target为ul,e.currentTarget为ul，e.target==e.currentTarget<br><figure class="highlight javascript"><figcaption><span>[标题] [] [url] [link text]</span></figcaption><table><tr><td class="code"><pre><span class="line">&lt;!-- </span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">        &lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">a</span>&gt;</span>测试1<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">        &lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">a</span>&gt;</span>测试2<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">        &lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">a</span>&gt;</span>测试3<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">        &lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">a</span>&gt;</span>测试4<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">        &lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">a</span>&gt;</span>测试5<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">        &lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">a</span>&gt;</span>测试6<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">        &lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">a</span>&gt;</span>测试7<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">        &lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">a</span>&gt;</span>测试8<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">    &lt;<span class="regexp">/ul&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>div&gt; </span><br><span class="line">--&gt;</span><br><span class="line">$(<span class="string">"ul"</span>).on(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    alert(<span class="string">"点击的内容是："</span>+$(e.target).text());</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<h3 id="js事件委托"><a href="#js事件委托" class="headerlink" title="js事件委托"></a>js事件委托</h3><figure class="highlight javascript"><figcaption><span>[标题] [] [url] [link text]</span></figcaption><table><tr><td class="code"><pre><span class="line">&lt;!-- </span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">        &lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">a</span>&gt;</span>测试1<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">        &lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">a</span>&gt;</span>测试2<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">        &lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">a</span>&gt;</span>测试3<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">        &lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">a</span>&gt;</span>测试4<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">        &lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">a</span>&gt;</span>测试5<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">        &lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">a</span>&gt;</span>测试6<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">        &lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">a</span>&gt;</span>测试7<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">        &lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">a</span>&gt;</span>测试8<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">    &lt;<span class="regexp">/ul&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>div&gt;</span><br><span class="line"> --&gt;</span><br><span class="line"><span class="built_in">document</span>.getElementsByTagName(<span class="string">"ul"</span>)[<span class="number">0</span>].addEventListener(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    alert(<span class="string">"点击的内容是："</span>+e.target.innerHTML);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">游来游去</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">26</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">3</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">19</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          <div class="links-of-author motion-element">
            
          </div>

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">游来游去</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.3</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>

  
  <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.3"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	





  





  








  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  

  

  

</body>
</html>
